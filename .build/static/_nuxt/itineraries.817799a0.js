import{g as L,l as C,x as A,r as y,h as D,c as e,q as t,b as r,w as o,d as n,F as v,a as m,C as N,e as B,D as E,o as a,H as F,t as V,p as $,f as q,I as z,_ as H}from"./entry.bb74548b.js";import{_ as O}from"./Fab.eb68e09a.js";import{u as T}from"./useItinerariesStore.7efcc161.js";import{w as I,i as Y}from"./dataStore.d7792384.js";import{v as j}from"./index.97fe0762.js";import"./index.f4bf0056.js";const x=c=>($("data-v-693a738b"),c=c(),q(),c),G=x(()=>m("h2",null,"Your itineraries",-1)),J={key:0},K={key:1},M={key:2},P=x(()=>m("span",{class:"fa fa-arrow-right"},null,-1)),Q=L({__name:"itineraries",setup(c){const s=T(),_=C(()=>s.itineraries),d=A(),f=y(0),u=y(!1),h=()=>I(u,s.createAsync("New Itinerary"),!1),b=(l,g)=>{l.forEach(i=>{_.value&&(i.isIntersecting&&(g.unobserve(i.target),f.value++),f.value>=_.value.length&&s.fetchNextAsync())})};return D(d.userStore,l=>{l.userData&&I(u,Y(()=>s.itineraries,s),null)},{immediate:!0}),(l,g)=>{const i=B,k=z,w=E,S=O;return a(),e("main",null,[G,t(d).userStore.userData===void 0?(a(),e("p",J,"Loading...")):t(d).userStore.userData?t(_)?(a(),e(v,{key:3},[m("ol",null,[(a(!0),e(v,null,N(t(_),p=>F((a(),e("li",{key:p._id},[r(k,{to:`/itinerary/${p._id}`},{"icon-right":o(()=>[P]),default:o(()=>[n(V(p.name)+" ",1)]),_:2},1032,["to"])])),[[t(j),b]])),128))]),r(w,{"full-width":!0,disabled:t(u),color:"primary",onClick:h},{default:o(()=>[n(" + ")]),_:1},8,["disabled"])],64)):(a(),e("p",M,"Loading...")):(a(),e("p",K,[r(i,{to:"/login"},{default:o(()=>[n("Log in")]),_:1}),n(" or "),r(i,{to:"/register"},{default:o(()=>[n("Sign up")]),_:1}),n(" to create itineraries! ")])),r(S,{disabled:t(u),color:"primary",onClick:h},{default:o(()=>[n(" + ")]),_:1},8,["disabled"])])}}});const te=H(Q,[["__scopeId","data-v-693a738b"]]);export{te as default};
