import{g as C,l as L,x as A,r as y,h as N,c as t,q as n,b as r,w as o,d as e,F as I,a as p,C as B,e as D,D as E,o as a,H as F,t as V,p as $,f as q,I as z,_ as H}from"./entry.9dbfbc2c.js";import{_ as O}from"./Fab.8c80f483.js";import{u as T}from"./useItinerariesStore.2d8857d2.js";import{w as v,i as Y}from"./dataStore.d7792384.js";import{v as j}from"./index.db22a8d1.js";import"./index.a5ba7d56.js";const x=c=>($("data-v-33621352"),c=c(),q(),c),G=x(()=>p("h2",null,"Your itineraries",-1)),J={key:0},K={key:1},M=x(()=>p("span",{class:"fa fa-arrow-right"},null,-1)),P=C({__name:"itineraries",setup(c){const s=T(),_=L(()=>s.itineraries),m=A(),f=y(0),l=y(!1),h=()=>v(l,s.createAsync("New Itinerary"),!1),k=(u,g)=>{u.forEach(i=>{_.value&&(i.isIntersecting&&(g.unobserve(i.target),f.value++),f.value>=_.value.length&&s.fetchNextAsync())})};return N(m.userStore,u=>{u.userData&&v(l,Y(()=>s.itineraries,s),null)},{immediate:!0}),(u,g)=>{const i=D,w=z,S=E,b=O;return a(),t("main",null,[G,n(m).userStore.userData?n(_)?(a(),t(I,{key:2},[p("ol",null,[(a(!0),t(I,null,B(n(_),d=>F((a(),t("li",{key:d._id},[r(w,{to:`/itinerary/${d._id}`},{"icon-right":o(()=>[M]),default:o(()=>[e(V(d.name)+" ",1)]),_:2},1032,["to"])])),[[n(j),k]])),128))]),r(S,{"full-width":!0,disabled:n(l),color:"primary",onClick:h},{default:o(()=>[e(" + ")]),_:1},8,["disabled"])],64)):(a(),t("p",K,"Loading...")):(a(),t("p",J,[r(i,{to:"/login"},{default:o(()=>[e("Log in")]),_:1}),e(" or "),r(i,{to:"/register"},{default:o(()=>[e("Sign up")]),_:1}),e(" to create itineraries! ")])),r(b,{disabled:n(l),color:"primary",onClick:h},{default:o(()=>[e(" + ")]),_:1},8,["disabled"])])}}});const ee=H(P,[["__scopeId","data-v-33621352"]]);export{ee as default};
